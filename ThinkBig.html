<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThinkBIG</title>
    <style>
        #wrapper {
            width: 1100px;
            height: 900px;
            margin: auto;
            background: whitesmoke;
        }

        #content {
            width: 900px;
            height: 100%;
            float: left;
            background: whitesmoke;
            position: relative;
        }

        #side {
            width: 200px;
            height: 100%;
            float: left;
            background: lemonchiffon;
            text-align: center;
            box-sizing: border-box;
            position: relative;
        }

        #score {
            width: 90%;
            font-size: 40px;
            font-weight: bold;
            margin-top: 30px;
        }

        #side input {
            width: 90%;
            height: 50px;
            font-size: 40px;
            margin-top: 30px;
        }

        #side h1 {
            width: 90%;
            margin-top: 30px;
        }

        #game_theme1 {
            width: 80%;
            margin-top: 30px;
        }

        #game_theme2 {
            width: 80%;
            margin-top: 10px;
        }

        #timer {
            width: 90%;
            font-size: 40px;
            margin-top: 30px;
            text-align: center;
            position: absolute;
            top: 500px;
        }
    </style>
    <script src="./Box.js"></script>
    <script>
        let content;
        let side;
        let box;
        let boxArray = [];
        let indexX = 0; //배열을 접근하기 위한 호수
        let indexY = 0; //배열을 접근하기 위한 층수

        function move(){
            if(indexX<0){
                indexX=0;
            }else if(indexX>boxArray[0].length){
                indexX=boxArray[0].length-1;
            }

            if(indexY<0){
                indexY=0;
            }else if(indexY>boxArray.length){
                indexY=boxArray.length-1;
            }

            for (let a=0; a<boxArray.length; a++) {
                for (let i=0; i<boxArray[a].length; i++) {
                    if (indexY == a && indexX == i) {
                        boxArray[a][i].div.style.opacity = 0;
                    } else if (i != indexX || a != indexY) {
                        boxArray[a][i].div.style.opacity = 1;
                    }
                }
            }
        }

        //이미지 붙이기
        function createGameContent() {
            let img = document.createElement("img");
            img.src = "./images/leejaeyong.png";
            img.style.width = 900 + "px";
            img.style.height = 900 + "px";

            content.appendChild(img);
        }

        //덮어 씌울 셀 아홉개 만들기
        function createBox() {

            for (let a = 0; a < 3; a++) {
                let arr = new Array(3);
                for (let i = 0; i < arr.length; i++) {
                    //(container, width, height, x, y)
                    box = new Box(content, 300, 300, i * 300, a * 300);
                    arr[i] = box;
                }
                boxArray.push(arr);
            }
        }

        function init() {
            content = document.getElementById("content");
            side = document.getElementById("side");
            createGameContent();
        }

        addEventListener("load", function () {
            init();
            createBox();

            //버튼을 누르면, 배열의 다음 div의 style.opacity가 0으로.

            document.body.addEventListener("keydown", function (e) {
                switch (e.keyCode) {
                    case 37: move(); break;
                    case 39: move(); break;
                    case 38: move(); break;
                    case 40: move(); break;
                }

            });


        });
    </script>
</head>

<body>
    <div id="wrapper">
        <div id="content"></div>
        <div id="side">
            <div id="score">00점</div>
            <h1>Stage1</h1>
            <button id="game_theme1">인물</button>
            <button id="game_theme2">음식</button>
            <input type="text">
            <div id="timer">45:00</div>
        </div>
    </div>
</body>

</html>